<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Viewing Massive Meshes</title>

    <link href="css/vendor/slate.min.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="javascripts/vendor/html5shiv.min.js"></script>
      <script src="javascripts/vendor/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">

        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Visualisation of Massive Meshes</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav"> <!-- add navbar-right for right side-->
            <li><a href="index.html">Overview</a></li>
            <li><a href="preprocessor.html">Preprocessor</a></li>
            <li class="active"><a href="simplifier.html">Simplifier</a></li>
            <li><a href="renderer.html">Renderer</a></li>
            <li><a href="downloads.html">Downloads</a></li>
          </ul>
        </div>

      </div>
    </nav>

<div class="container">

      <div class="row">
        <div class="col-md-12">
          <h1>Mesh Simplifier</h1>
   
          <img class="img-well-white" src="images/simplifier/overview.png" alt="Simplifier overview">
  
          <h3>Introduction</h3>
          <div class="paragraph-well">
            <p>
              This section of the project was centered on the mesh simplification component of the preprocessor. 
            </p>
            <p>
              3D triangle mesh simplification is currently a well-defined and very mature area of research with many complex algorithms. Some of these algorithms are feely available in open source mesh processing packages, therefore, we decided to implement and adapt an existing solution into a component that could be used within our preprocessor.
            </p>

            <p>
              The research question I sought to answer is: 
              “Can an existing mesh simplification implementation be adapted to work with an out-of core hierarchical level of detail mesh scheme?.”
            </p>
            </div>

          <h3>Design and Implementation</h3>
          <div class="paragraph-well">
            <p>
              The design and implementation of the simplifier tool (known as SimplFy) were heavily guided by experimenting with the Tridecimator simplifier found in VCG (a Quadric Error Edge Collapse implementation). Following a visual inspection of meshes simplified with this algorithm, and due to its poor documentation. We attempted to gain an understanding of the VCG implementation by refactoring its code into a new design.
            </p>
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img src="images/simplifier/design.png" alt="Simplifier design">
              <div class="image-panel-caption">
                <strong>Figure 1:</strong> Simplifier design. Green are elements are based on VCGlib implementation, blue elements are customized/new.
              </div>
            </div>
          </div>

          <div class="paragraph-well">
            The pre-processor spatially divides the mesh into chunks. Each of these chunks is then simplified before being re-stitched together.
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img src="images/simplifier/seams.png" alt="Seams" style="max-width:400px">
              <div class="image-panel-caption">
                <strong>Figure 2:</strong> Seams are formed when the edges of mesh chunks (sections) are deformed before being stitched back together.
              </div>
            </div>
          </div>

          <div class="paragraph-well">
            The creation of seams can be avoided by enabling Tridecimators boundary preservation, however, this includes the boundaries surrounding any holes in a mesh. Meshes cannot be simplified beyond this boundary face count without detail compromising artefacts. 
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img class="multi-image-200" src="images/simplifier/gede borders.png" alt="Gede with boundary triangles selected">
              <img class="multi-image-200" src="images/simplifier/gedeheavysimpborder.png" alt="Gede simplified heavily with boundary preservation enabled">
              <div class="image-panel-caption">
                <strong>Figure 3:</strong> Gede, left with all border triangles (~125 000) highlighted in red, right after simplifying Gede to ~125 000 directly with tridecimator, with border preservation enabled.
              </div>
            </div>
          </div>

          <div class="paragraph-well">
            The simplifier was adapted by enabling support for coloured vertices, post simplification mesh cleaning and a by redefining how border triangles are identified.  The pre-processor specifies a bounding box that defines the mesh volume of the mesh chunk. All triangles that intersect or exist outside of the bounding box are defined as boundary triangles. The rectangular edges of each chunk are then preserved until they are stitched together.
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img class="multi-image-200" src="images/simplifier/initial-WithoutBordepres.png" alt="Gede simplified without boundary preservation">
              <img class="multi-image-200" src="images/simplifier/initialWithCustomBoder.png" alt="Gede simplified with custom boundary preservation">
              <div class="image-panel-caption">
                <strong>Figure 4:</strong> Gede simplified to 30 000 faces with an early version of the mesh pre-processor. Left is without boundary preservation, right is with custom boundary preservation.
              </div>
            </div>
          </div>

          <h3>Results</h3>
          <div class="paragraph-well">
          Meshes were pre-processed with SimplFy and Tridecimator. These processed meshes were then visually compared to evaluate the changes made in SimplFy. The final version of the pre-processor creates a level of detail hiararchy with the root node containing the full mesh simplified down to 400 000 faces.
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img class="multi-image-200" src="images/simplifier/jagocoloured/simWOboundary.png" alt="Gede simplified without boundary preservation" >
              <img class="multi-image-200" src="images/simplifier/jagocoloured/simWcustomboundary.png" alt="Gede simplified with custom boundary preservation"><br>
              <img class="multi-image-200" src="images/simplifier/jagocoloured/triWOboundary.png" alt="Gede simplified without boundary preservation" >
              <img class="multi-image-200" src="images/simplifier/jagocoloured/triWboundary.png" alt="Gede simplified with custom boundary preservation">
              <div class="image-panel-caption">
                <strong>Figure 5:</strong> Jago with per-vertex colour (30Million faces) Simplified using Preprocessor using: top left -SimplFy w/o boundary preservation, top right -SimplFy w/ custom boundary preservation, bottom left -Tridecimator w/o boundary preservation, bottom right -Tridecimator w/ boundary preservation.
              </div>
            </div>
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img class="multi-image-200" src="images/simplifier/Nossa/simWOboundary.png" alt="Nossa simplified without boundary preservation" >
              <img class="multi-image-200" src="images/simplifier/Nossa/simWcustomboundary.png" alt="Nossa simplified with custom boundary preservation"><br>
              <img class="multi-image-200" src="images/simplifier/Nossa/triWOboundary.png" alt="Nossa simplified without boundary preservation" >
              <img class="multi-image-200" src="images/simplifier/Nossa/triWboundary.png" alt="Nossa simplified with custom boundary preservation">
              <div class="image-panel-caption">
                <strong>Figure 6:</strong> Chapel of Nossa with per-vertex colour (9.5Million faces) Simplified using Preprocessor using: top left -SimplFy w/o boundary preservation, top right -SimplFy w/ custom boundary preservation, bottom left -Tridecimator w/o boundary preservation, bottom right -Tridecimator w/ boundary preservation.
              </div>
            </div>
          </div>

          <div class="image-panel-wrap">
            <div class="image-panel">
              <img class="multi-image-200" src="images/simplifier/bigjago/simWOboundary.png" alt="Jago without boundary pres">
              <img class="multi-image-200" src="images/simplifier/bigjago/simWcustomboundary.png" alt="Jago with boundary pres">
              <div class="image-panel-caption">
                <strong>Figure 7:</strong> Jago with and without the custom boundary preservation. Left -without boundary preservation , right- with custom bounding box boundary triangle preservation.
              </div>
            </div>
          </div>


          <div class="paragraph-well">
            The revised boundary preservation successfully removes seams (Figure 4, 6), however, it produces a new problem. Small holes in the mesh seem to grow rapidly (Figure, 6 top right), a problem that especially manifests itself in large meshes (Figure 7). When meshes are composed of multiple aligned chunks, the boundaries in these chunks recede, creating massive cracks in the model.
          </div>

          <h3>Conclusion</h3>
          <div class="paragraph-well">
          <p>
          Working backwards from VCG’s source, although time consuming, allowed the simple addition of per vertex colour support and post simplification mesh cleaning. Simultaneously solving the lighting glitches and per vertex colour support.
          </p>
          <p> 
          Zamani meshes can be made up of multiple disconnected (although closely aligned) mesh ‘chunks’. The borders between these chunks recedes rapidly when processed using the modified boundary preservation in SimplFy, degrading visual quality. In general meshes looked better with seams then with the custom bounding box boundary triangle definition.</p>
          <p>
          Custom boundary preservation aside, Tridecimator was successfully adapted to our mesh viewing suite. 
          </p>
          </div>

        </div>
      </div>
    </div>
    
    <div class="footer">
      © Daniel Burnham-King, Justin Cossutti, Benjamin Meier | November 2014 | University of Cape Town
    </div>

    <!-- Add JS scripts and imports below this line -->
    <script src="javascripts/vendor/jquery-1.11.1.min.js"></script>
    <script src="javascripts/vendor/bootstrap.min.js"></script>
  </body>
</html>
